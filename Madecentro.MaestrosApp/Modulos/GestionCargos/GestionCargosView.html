
<!---- =============================================
-- Author:		<Elkin Gutierrez Crespo>
--              <24/08/2016>
-- Description:	<App Gestion Cargos>
-- Compañia:    <Madecentro Colombia S.A.S >
-- =============================================-->

<div class="container" style="background-color: white; box-shadow: rgba(0, 0, 0, 0.9) 1px 25px 45px; padding: 0;">
    <br /><br />
    <h3 align="center" class="panel-heading-apps font-madecentro ng-binding">Gestión Cargos</h3>
    <div class="col-xs-10 col-xs-offset-1  col-md-8  col-md-offset-2" style="horiz-align:center">

        <div class="col-xs-1 col-xs-offset-10 col-md-offset-10" align="center">
            <div>
                <a popover="Crear cargo" popover-trigger="mouseenter" class="hi-icon fa-plus-square" aria-hidden="true" ng-click="RedirectTo('/GestionCargos');" data-toggle="modal" data-target="#modal_crear_cargo">a></a>
            </div>
        </div>
        <div class="bs-component">
            <table class="table table-condensed table-striped" ng-if="array_consultar_cargos.length > 0" style="margin-top: 0px;">
                <thead class="css_tabla_usu_sam_enc">
                    <tr>
                        <th ng-click="sort('c_cargo')">
                            Cod
                            <span class="hig-icon fa fa-sort" ng-show="sortKey=='c_cargo'" ng-class="{'hig-icon fa fa-sort-asc':reverse,'hig-icon fa fa-sort-desc': !reverse}"></span>
                        </th>
                        <th ng-click="sort('d_cargo')">
                            Nombre cargo
                            <span class="hig-icon fa fa-sort" ng-show="sortKey=='d_cargo'" ng-class="{'hig-icon fa fa-sort-asc':reverse,'hig-icon fa fa-sort-desc': !reverse}"></span>
                        </th>
                        <th ng-click="sort('d_nivel_cargo')">
                            Nivel
                            <span class="hig-icon fa fa-sort" ng-show="sortKey=='d_nivel_cargo'" ng-class="{'hig-icon fa fa-sort-asc':reverse,'hig-icon fa fa-sort-desc': !reverse}"></span>
                        </th>
                        <th ng-click="sort('tipo_cargo')">
                            Tipo
                            <span class="hig-icon fa fa-sort" ng-show="sortKey=='tipo_cargo'" ng-class="{'hig-icon fa fa-sort-asc':reverse,'hig-icon fa fa-sort-desc': !reverse}"></span>
                        </th>
                        <th ng-click="sort('estado')">
                            Estado
                            <span class="hig-icon fa fa-sort" ng-show="sortKey=='estado'" ng-class="{'hig-icon fa fa-sort-asc':reverse,'hig-icon fa fa-sort-desc': !reverse}"></span>
                        </th>
                        <th ng-click="sort('Modificar')">

                            <span class="hig-icon fa fa-sort" ng-show="sortKey=='MODIFICAR'" ng-class="{'hig-icon fa fa-sort-asc':reverse,'hig-icon fa fa-sort-desc': !reverse}"></span>
                        </th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <th colspan="8">
                            <input type="text" ng-model="filtro_buscar" class="form-control" aria-hidden="true" placeholder="Buscar...." />
                        </th>
                    </tr>
                    <!--style="cursor: pointer" es opcional paara cuando se haga click en la tabla-->
                    <tr ng-repeat="item in array_consultar_cargos |filter: filtro_buscar | orderBy: sortKey: reverse " ng-click="cargar_cargo(item); " class="ng-scope">
                        <td>{{item.c_cargo | number:0}} </td>
                        <td>{{item.d_cargo}} </td>
                        <td>{{item.d_nivel_cargo}}</td>
                        <td>{{item.tipo_cargo}}</td>
                        <td>{{item.estado}}</td>
                        <td>
                            <div class="col-xs-1 col-xs-offset-1 col-md-offset-1" align="center">
                                <div>
                                    <a popover="Modificar cargo" popover-trigger="mouseenter" style="color: #f68414" class="fa fa-pencil-square-o fa-2x" aria-hidden="True" data-toggle="modal" data-target="#modal_modificar_cargo" ng-click="cargar_cargo()"></a>
                                </div>
                            </div>
                        </td>
                    </tr>
                </tbody>
                <!--<tfoot>
                    <tr>
                        <td colspan="8" class="text-center">
                            <div st-pagination="" st-items-by-page="20" st-displayed-pages="10"></div>
                        </td>
                    </tr>
                </tfoot>-->
            </table>
        </div>
    </div>
</div>
<hr />
<body>
    <div class="container">
        <!-- Modal -->
        <div class="modal fade" id="modal_modificar_cargo" role="dialog">
            <div class="modal-dialog modal-lg">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal" ng-click=" limpiar_modificar_cargos();" onclick="formulario_modificar_cargo2.style.display = 'none'; formulario_modificar_cargo.style.display = 'inline'; ">&times;</button>
                        <h3 class="modal-title">Modificar cargo</h3>
                    </div>
                    <div class="modal-body">
                        <div class="container-fluid" style="background: white">
                            <!--// Mostrando en modulo inicial esto es para modificar datos-->
                            <div>
                                <!--<form name="formulario_modificar_cargo" method="POST">
                                    <div class="col-xs-12 col-sm-6 col-md-6">
                                        <label class="control-label texto-titulos">Selecione cargo a modificar:</label>
                                        <select name="select_cargos" autofocus="autofocus" popover="Debe selecionar el cargo que desea modificar" popover-trigger="mouseenter" required="required" class="form-control" ng-options=" opc.c_cargo as opc.d_cargo for opc in array_consultar_cargos " ng-model="obj_id_consulta.codigo_cargo" onchange="btn_agregar_cargo.disabled = false;">
                                            <option value="">Seleccione</option>
                                        </select>
                                        <div class="select2-display-none">-->
                                <!--invisible-->
                                <!--<label class="control-label texto-titulos">Codigo:</label>
                                    <input type="number" ng-model="obj_id_consulta.codigo_cargo" />
                                </div>
                                <div align="right" name="div_agregar_cargo">-->
                                <!--{{obj_id_consulta}}<br />
                                {{obj_modificar_cargos}}-->
                                <!--<button name="btn_agregar_cargo" disabled="disabled" popover="Agregar" popover-trigger="mouseenter right" type="button" class="submit-form-green btn-sm ng-scope; select2-display-none" ng-click="consulta_modificar_cargo(); " style="float: right; text-transform: none; width: auto; margin-left: -25px; display: initial; height: 31px; padding-top: 2px; margin-top: 0px;" onclick="formulario_modificar_cargo.style.display = 'none'; formulario_modificar_cargo2.style.display = 'inline'; btn_agregar_cargo.disabled = true;">
                                                <i class="fa fa-caret-square-o-right" style="font-size: 17px"></i>
                                            </button>
                                        </div>
                                    </div>
                                </form>-->

                                <form name="formulario_modificar_cargo" method="POST">
                               <div class="select2-display-none">
                                        <!-- invisible -->
                                        <label class="control-label texto-titulos">Codigo:</label><br />
                                        <input type="number" ng-model="obj_modificar_cargos.codigo_cargo" disabled="disabled" />
                                    </div>
                                    <div class="col-xs-12 col-sm-6 col-md-6">
                                        <div>
                                            <label class="control-label texto-titulos">Nombre de cargo:</label>
                                            <input type="text" name="txt_nombre_cargo" style="text-transform: uppercase" class="form-control ng-valid ng-touched ng-dirty ng-valid-parse" ng-options="opc.c_cargo as opc_d_cargo for opc in  array_consulta_modificar_cargo " ng-model=" obj_modificar_cargos.descripcion_cargos" required="required">
                                        </div>
                                        <!--{{obj_id_consulta | json}}--> <!--/verificar que hay en el arreglo id consulta-->
                                    </div>
                                    <div class="col-xs-12 col-sm-6 col-md-6">
                                        <div>
                                            <label class="control-label texto-titulos">Nivel cargo:</label>
                                            <select class="form-control ng-pristine ng-valid ng-touched ng-dirty" ng-options="opc.c_nivel_cargo as opc.d_nivel_cargo for opc in array_consultar_nivel_cargo" ng-model=" obj_modificar_cargos.nivel_cargo" required="required"></select>
                                        </div>
                                    </div>
                                    <div class="col-xs-6">
                                        <div class="checkbox">
                                            <label class="control-label texto-titulos">
                                                <input type="checkbox" name="chk_activo" ng-model="obj_modificar_cargos.sw_administrativo" style="transform: scale(1.5)">
                                                Cargo tipo: Estratégico
                                            </label>
                                        </div>
                                    </div>
                                    <div class="col-xs-6">
                                        <div class="checkbox">
                                            <label class="control-label texto-titulos">
                                                <input type="checkbox" name="chk_activo" ng-model="obj_modificar_cargos.sw_activo" style="transform: scale(1.5)" />
                                                <b> Activo</b>
                                            </label>
                                        </div>
                                    </div>
                                    <br /><br />
                                    <div class="col-xs-offset-6 align-center">
                                        <button type="button" name="btn_modificar" class="hvr-glow btn btn-warning" aria-label="left Align" ng-click="modificar_cargos();" style="background: #f68414">
                                            <span style="font-size: 17px; position: relative; text-align: -webkit-right; margin-top: 3px" title="Modificar" class="glyphicon glyphicon-floppy-disk" aria-hidden="false">
                                            </span>
                                            <span style="font-family: Century Gothic, CenturyGothic, AppleGothic, sans-serif; font-size: 16px;">Modificar</span>
                                        </button>
                                       </div>

                                    <br /><br />
                                </form>
                            </div>
                        </div>

                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-default" data-dismiss="modal" ng-click="limpiar_modificar_cargos();" onclick="formulario_modificar_cargo2.style.display = 'none'; formulario_modificar_cargo.style.display = 'inline';">Cerrar</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</body>
<body>
    <div class="container">
    <div class="modal fade" id="modal_crear_cargo" role="dialog">
            <div class="modal-dialog modal-lg">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal" ng-click="limpiar_insertar_cargos();">&times;</button>
                        <h3 class="modal-title">Crear cargo</h3>
                    </div>
                    <div class="modal-body">
                        <div class="container-fluid" style="background: white">
                            <form name="formulario_crear_cargo">
                                <!--//Insert Cargo Nuevo-->
                                <div class="form-group row">

                                    <div class="col-xs-12 col-sm-6">
                                        <label class="control-label texto-titulos">Nombre cargo:</label>
                                        <input type="text" name="txt_nombre_cargo" id="txt_nombre_cargo" class="form-control" style="text-transform: uppercase" ng-model="obj_info_cargos.descripcion_cargos" autofocus="autofocus" />
                                    </div>
                                    <div class="col-xs-12 col-sm-6">
                                        <label class="control-label texto-titulos">Nivel cargo:</label>
                                        <select class="form-control" name="txt_nivel_cargo" ng-options="opc.c_nivel_cargo as opc.d_nivel_cargo for opc in array_consultar_nivel_cargo" ng-model="obj_info_cargos.nivel_cargo" required autofocus="autofocus">
                                            <option value="">Seleccione </option>
                                        </select>
                                    </div>

                                    <br /><br />
                                    <div>
                                        <div class="col-xs-6">

                                            <div class="checkbox">
                                                <label class="control-label texto-titulos">
                                                    <input type="checkbox" value="" ng-model="obj_info_cargos.sw_administrativo" style="transform: scale(1.5)">
                                                    Cargo tipo: Estratégico
                                                </label>
                                            </div>
                                        </div>
                                        <div class="col-xs-6">

                                            <div class="checkbox">

                                                <label class="control-label texto-titulos">
                                                  <input name="chk_activo" type="checkbox" ng-model="obj_info_cargos.sw_activo" style="transform: scale(1.5)" disabled="disabled" checked="checked" />
                                                    <b> Activo</b>
                                                </label>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-xs-offset-6 align-center ">
                                    <button type="button" class="hvr-glow btn btn-warning" aria-label="left Align" ng-click="insertar_cargo();" style="background: #f68414">
                                        <span style="font-size: 17px; position: relative; text-align: -webkit-right; margin-top: 3px" title="CrearCargo" class="glyphicon glyphicon-floppy-disk" aria-hidden="false">
                                        </span>
                                        <span style="font-family: Century Gothic, CenturyGothic, AppleGothic, sans-serif; font-size: 16px;">Crear Cargo</span>
                                    </button>
                                    <button type="button" class="hvr-glow btn btn-warning" aria-label="Left Align" style="background-color: #F68414;" ng-click="limpiar_insertar_cargos();">
                                        <span style="font-size: 17px; position: relative; text-align: -webkit-right; margin-top: 3px" title=" Cerrar" class="glyphicon glyphicon-minus-sign " aria-hidden="false"></span>
                                        <span style="font-family: Century Gothic, CenturyGothic, AppleGothic, sans-serif; font-size: 16px;">&nbsp&nbsp&nbsp Limpiar &nbsp&nbsp&nbsp</span>
                                    </button>
                                   </div>
                            </form>
                           </div>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-default" data-dismiss="modal" ng-click="limpiar_insertar_cargos();">Cerrar</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

</body>



